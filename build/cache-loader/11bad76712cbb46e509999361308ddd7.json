{"remainingRequest":"H:\\projects\\limsy-application\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-2!H:\\projects\\limsy-application\\node_modules\\ts-loader\\index.js??ref--4-3!H:\\projects\\limsy-application\\node_modules\\tslint-loader\\index.js!H:\\projects\\limsy-application\\src\\main\\webapp\\app\\modules\\administration\\configuration\\configuration.tsx","dependencies":[{"path":"H:\\projects\\limsy-application\\src\\main\\webapp\\app\\modules\\administration\\configuration\\configuration.tsx","mtime":1549223105115},{"path":"H:\\projects\\limsy-application\\node_modules\\react-hot-loader\\webpack.js","mtime":1549223610051},{"path":"H:\\projects\\limsy-application\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1549223563882},{"path":"H:\\projects\\limsy-application\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1549223563895},{"path":"H:\\projects\\limsy-application\\node_modules\\ts-loader\\index.js","mtime":1549223611188},{"path":"H:\\projects\\limsy-application\\node_modules\\tslint-loader\\index.js","mtime":1549223603361}],"contextDependencies":[],"result":["import * as tslib_1 from \"tslib\";\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Table, Input, Row, Col, Badge } from 'reactstrap';\r\nimport { getConfigurations, getEnv } from '../administration.reducer';\r\nvar ConfigurationPage = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ConfigurationPage, _super);\r\n    function ConfigurationPage() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            filter: '',\r\n            reversePrefix: false,\r\n            reverseProperties: false\r\n        };\r\n        _this.setFilter = function (evt) {\r\n            _this.setState({\r\n                filter: evt.target.value\r\n            });\r\n        };\r\n        _this.envFilterFn = function (configProp) { return configProp.toUpperCase().includes(_this.state.filter.toUpperCase()); };\r\n        _this.propsFilterFn = function (configProp) { return configProp.prefix.toUpperCase().includes(_this.state.filter.toUpperCase()); };\r\n        _this.reversePrefix = function () {\r\n            _this.setState({\r\n                reversePrefix: !_this.state.reversePrefix\r\n            });\r\n        };\r\n        _this.reverseProperties = function () {\r\n            _this.setState({\r\n                reverseProperties: !_this.state.reverseProperties\r\n            });\r\n        };\r\n        _this.getContextList = function (contexts) {\r\n            return Object.values(contexts)\r\n                .map(function (v) { return v.beans; })\r\n                .reduce(function (acc, e) { return (tslib_1.__assign({}, acc, e)); });\r\n        };\r\n        return _this;\r\n    }\r\n    ConfigurationPage.prototype.componentDidMount = function () {\r\n        this.props.getConfigurations();\r\n        this.props.getEnv();\r\n    };\r\n    ConfigurationPage.prototype.render = function () {\r\n        var _this = this;\r\n        var configuration = this.props.configuration;\r\n        var filter = this.state.filter;\r\n        var configProps = configuration && configuration.configProps ? configuration.configProps : {};\r\n        var env = configuration && configuration.env ? configuration.env : {};\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"h2\", { id: \"configuration-page-heading\" }, \"Configuration\"),\r\n            React.createElement(\"span\", null, \"Filter\"),\r\n            \" \",\r\n            React.createElement(Input, { type: \"search\", value: filter, onChange: this.setFilter, name: \"search\", id: \"search\" }),\r\n            React.createElement(\"label\", null, \"Spring configuration\"),\r\n            React.createElement(Table, { className: \"table table-striped table-bordered table-responsive d-table\" },\r\n                React.createElement(\"thead\", null,\r\n                    React.createElement(\"tr\", null,\r\n                        React.createElement(\"th\", { onClick: this.reversePrefix }, \"Prefix\"),\r\n                        React.createElement(\"th\", { onClick: this.reverseProperties }, \"Properties\"))),\r\n                React.createElement(\"tbody\", null, configProps.contexts\r\n                    ? Object.values(this.getContextList(configProps.contexts))\r\n                        .filter(this.propsFilterFn)\r\n                        .map(function (property, propIndex) { return (React.createElement(\"tr\", { key: propIndex },\r\n                        React.createElement(\"td\", null, property['prefix']),\r\n                        React.createElement(\"td\", null, Object.keys(property['properties']).map(function (propKey, index) { return (React.createElement(Row, { key: index },\r\n                            React.createElement(Col, { md: \"4\" }, propKey),\r\n                            React.createElement(Col, { md: \"8\" },\r\n                                React.createElement(Badge, { className: \"float-right badge-secondary break\" }, JSON.stringify(property['properties'][propKey]))))); })))); })\r\n                    : null)),\r\n            env.propertySources\r\n                ? env.propertySources.map(function (envKey, envIndex) { return (React.createElement(\"div\", { key: envIndex },\r\n                    React.createElement(\"h4\", null,\r\n                        React.createElement(\"span\", null, envKey.name)),\r\n                    React.createElement(Table, { className: \"table table-sm table-striped table-bordered table-responsive d-table\" },\r\n                        React.createElement(\"thead\", null,\r\n                            React.createElement(\"tr\", { key: envIndex },\r\n                                React.createElement(\"th\", { className: \"w-40\" }, \"Property\"),\r\n                                React.createElement(\"th\", { className: \"w-60\" }, \"Value\"))),\r\n                        React.createElement(\"tbody\", null, Object.keys(envKey.properties)\r\n                            .filter(_this.envFilterFn)\r\n                            .map(function (propKey, propIndex) { return (React.createElement(\"tr\", { key: propIndex },\r\n                            React.createElement(\"td\", { className: \"break\" }, propKey),\r\n                            React.createElement(\"td\", { className: \"break\" },\r\n                                React.createElement(\"span\", { className: \"float-right badge badge-secondary break\" }, envKey.properties[propKey].value)))); }))))); })\r\n                : null));\r\n    };\r\n    return ConfigurationPage;\r\n}(React.Component));\r\nexport { ConfigurationPage };\r\nvar mapStateToProps = function (_a) {\r\n    var administration = _a.administration;\r\n    return ({\r\n        configuration: administration.configuration,\r\n        isFetching: administration.loading\r\n    });\r\n};\r\nvar mapDispatchToProps = { getConfigurations: getConfigurations, getEnv: getEnv };\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigurationPage);\r\n",{"version":3,"file":"H:\\projects\\limsy-application\\src\\main\\webapp\\app\\modules\\administration\\configuration\\configuration.tsx","sourceRoot":"","sources":["H:\\projects\\limsy-application\\node_modules\\tslint-loader\\index.js!H:\\projects\\limsy-application\\src\\main\\webapp\\app\\modules\\administration\\configuration\\configuration.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Table, Input, Row, Col, Badge } from 'reactstrap';\r\n\r\nimport { getConfigurations, getEnv } from '../administration.reducer';\r\nimport { IRootState } from 'app/shared/reducers';\r\n\r\nexport interface IConfigurationPageProps extends StateProps, DispatchProps {}\r\n\r\nexport interface IConfigurationPageState {\r\n  filter: string;\r\n  reversePrefix: boolean;\r\n  reverseProperties: boolean;\r\n}\r\n\r\nexport class ConfigurationPage extends React.Component<IConfigurationPageProps, IConfigurationPageState> {\r\n  state: IConfigurationPageState = {\r\n    filter: '',\r\n    reversePrefix: false,\r\n    reverseProperties: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getConfigurations();\r\n    this.props.getEnv();\r\n  }\r\n\r\n  setFilter = evt => {\r\n    this.setState({\r\n      filter: evt.target.value\r\n    });\r\n  };\r\n\r\n  envFilterFn = configProp => configProp.toUpperCase().includes(this.state.filter.toUpperCase());\r\n  propsFilterFn = configProp => configProp.prefix.toUpperCase().includes(this.state.filter.toUpperCase());\r\n\r\n  reversePrefix = () => {\r\n    this.setState({\r\n      reversePrefix: !this.state.reversePrefix\r\n    });\r\n  };\r\n\r\n  reverseProperties = () => {\r\n    this.setState({\r\n      reverseProperties: !this.state.reverseProperties\r\n    });\r\n  };\r\n\r\n  getContextList = contexts =>\r\n    Object.values(contexts)\r\n      .map((v: any) => v.beans)\r\n      .reduce((acc, e) => ({ ...acc, ...e }));\r\n\r\n  render() {\r\n    const { configuration } = this.props;\r\n    const { filter } = this.state;\r\n    const configProps = configuration && configuration.configProps ? configuration.configProps : {};\r\n    const env = configuration && configuration.env ? configuration.env : {};\r\n    return (\r\n      <div>\r\n        <h2 id=\"configuration-page-heading\">Configuration</h2>\r\n        <span>Filter</span> <Input type=\"search\" value={filter} onChange={this.setFilter} name=\"search\" id=\"search\" />\r\n        <label>Spring configuration</label>\r\n        <Table className=\"table table-striped table-bordered table-responsive d-table\">\r\n          <thead>\r\n            <tr>\r\n              <th onClick={this.reversePrefix}>Prefix</th>\r\n              <th onClick={this.reverseProperties}>Properties</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {configProps.contexts\r\n              ? Object.values(this.getContextList(configProps.contexts))\r\n                  .filter(this.propsFilterFn)\r\n                  .map((property, propIndex) => (\r\n                    <tr key={propIndex}>\r\n                      <td>{property['prefix']}</td>\r\n                      <td>\r\n                        {Object.keys(property['properties']).map((propKey, index) => (\r\n                          <Row key={index}>\r\n                            <Col md=\"4\">{propKey}</Col>\r\n                            <Col md=\"8\">\r\n                              <Badge className=\"float-right badge-secondary break\">{JSON.stringify(property['properties'][propKey])}</Badge>\r\n                            </Col>\r\n                          </Row>\r\n                        ))}\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n              : null}\r\n          </tbody>\r\n        </Table>\r\n        {env.propertySources\r\n          ? env.propertySources.map((envKey, envIndex) => (\r\n              <div key={envIndex}>\r\n                <h4>\r\n                  <span>{envKey.name}</span>\r\n                </h4>\r\n                <Table className=\"table table-sm table-striped table-bordered table-responsive d-table\">\r\n                  <thead>\r\n                    <tr key={envIndex}>\r\n                      <th className=\"w-40\">Property</th>\r\n                      <th className=\"w-60\">Value</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {Object.keys(envKey.properties)\r\n                      .filter(this.envFilterFn)\r\n                      .map((propKey, propIndex) => (\r\n                        <tr key={propIndex}>\r\n                          <td className=\"break\">{propKey}</td>\r\n                          <td className=\"break\">\r\n                            <span className=\"float-right badge badge-secondary break\">{envKey.properties[propKey].value}</span>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                  </tbody>\r\n                </Table>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ administration }: IRootState) => ({\r\n  configuration: administration.configuration,\r\n  isFetching: administration.loading\r\n});\r\n\r\nconst mapDispatchToProps = { getConfigurations, getEnv };\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>;\r\ntype DispatchProps = typeof mapDispatchToProps;\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ConfigurationPage);\r\n"]}]}